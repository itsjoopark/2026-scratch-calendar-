@import url('https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Instrument+Serif:ital@0;1&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Colors from Figma */
  --color-background: #f0eee9;
  --color-paper: #faf8f5;
  --color-bind: #d9d6d6;
  --color-year: #2b79ff;
  --color-month: #2b79ff;
  --color-day: #000000;
  --color-day-newyear: #c41e3a;
  --color-instruction: #666666;
  
  /* Typography */
  --font-instrument-sans: 'Instrument Sans', sans-serif;
  --font-instrument-serif: 'Instrument Serif', serif;
  
  /* Shadows */
  --shadow-bind: 0px 2px 5px rgba(0, 0, 0, 0.25);
  --shadow-paper: 0 2px 10px rgba(0, 0, 0, 0.1);
  --shadow-paper-drag: 0 20px 40px rgba(0, 0, 0, 0.3);
}

@layer base {
  * {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
  }

  html,
  body {
    max-width: 100vw;
    overflow-x: hidden;
    font-family: var(--font-instrument-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    background: var(--color-background);
    color: var(--color-day);
    min-height: 100vh;
    min-height: 100dvh;
  }
}

@layer components {
  /* Calendar page styles */
  .calendar-page {
    font-family: var(--font-instrument-serif);
    background: var(--color-paper);
    box-shadow: var(--shadow-paper);
    transition: box-shadow 0.3s ease;
  }

  .calendar-page.dragging {
    box-shadow: var(--shadow-paper-drag);
  }

  /* Calendar bind */
  .calendar-bind {
    background: var(--color-bind);
    box-shadow: var(--shadow-bind);
  }

  /* Year and month text */
  .year-text,
  .month-text {
    font-family: var(--font-instrument-sans);
    color: var(--color-year);
    font-size: 25px;
    text-align: center;
  }

  .month-text {
    font-weight: 600;
  }

  /* Day number */
  .day-text {
    font-family: var(--font-instrument-serif);
    font-style: italic;
    font-size: 200px;
    line-height: 1;
    color: var(--color-day);
  }

  .day-text.new-year {
    color: var(--color-day-newyear);
  }

  /* Instruction text */
  .instruction-text {
    font-family: var(--font-instrument-sans);
    color: var(--color-instruction);
    opacity: 0.7;
  }
}

@layer utilities {
  .text-instruction {
    color: var(--color-instruction);
    opacity: 0.7;
  }

  .text-accent-blue {
    color: var(--color-year);
  }

  .bg-background {
    background-color: var(--color-background);
  }

  .font-instrument-sans {
    font-family: var(--font-instrument-sans);
  }

  .font-instrument-serif {
    font-family: var(--font-instrument-serif);
  }
}

/* Paper texture animation */
@keyframes paper-flutter {
  0%, 100% {
    transform: rotateX(0deg) rotateY(0deg);
  }
  25% {
    transform: rotateX(2deg) rotateY(-1deg);
  }
  75% {
    transform: rotateX(-1deg) rotateY(2deg);
  }
}

/* Torn edge effect */
@keyframes tear-away {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) rotate(15deg);
    opacity: 0;
  }
}

/* Particle animation */
@keyframes particle-fall {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100px) rotate(180deg);
    opacity: 0;
  }
}

/* Canvas touch handling */
canvas {
  touch-action: none;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}
